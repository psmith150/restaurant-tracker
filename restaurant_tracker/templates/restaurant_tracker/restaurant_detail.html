{% extends "restaurant_tracker/base_restaurant.html" %}

{% block page %}
<h1>{{ restaurant.name }}</h1>
<p>Rating: {% include "restaurant_tracker/star_snippet.html" with rating=restaurant.rating %}</p>
<p>Price: {% include "restaurant_tracker/price_snippet.html" with price=restaurant.price %}</p>
<p>Service Comments: {{restaurant.service}}</p>
<p>Service Speed: {% include "restaurant_tracker/speed_snippet.html" with restaurant=restaurant %}</p>
<p>Comment: {{ restaurant.comment }}</p>
{% if restaurant.is_open %}
    <p style="color:green;">Open</p>
{% else %}
    <p style="color:red;">Closed</p>
{% endif %}
<p>Latitude: {{ restaurant.latitude }}</p>
<p>Longitude: {{ restaurant.longitude }}</p>
{% if restaurant.tags.count > 0 %}
<h2>Tags</h2>
<ul>
    {% for tag in restaurant.tags.all %}
        <li>
            {% include "restaurant_tracker/tag_display_snippet.html" with tag=tag%}
        </li>
    {% endfor %}
</ul>
{% endif %}
{% if restaurant.get_menu_items.count > 0 %}
    <h2>Menu Items</h2>
    <table id="menu-items-table">
    <tr>
        <th>Name</th>
        <th>User</th>
        <th>Date</th>
        <th>Price</th>
        <th>Rating</th>
        <th>Comment</th>
    </tr>
    {% for menu_item in restaurant.get_menu_items %}
        <tr>
            <td>{{menu_item.name}}</td>
            <td>{{menu_item.user}}</td>
            <td>{{menu_item.date}}</td>
            <td>${{menu_item.price}}</td>
            <td>{{menu_item.rating}}</td>
            <td>{{menu_item.comment}}</td>
        </tr>
    {% endfor %}
    </table>
{% else %}
    <p> No menu items are available.</p>
{% endif %} 
<a href="{% url 'restaurant_tracker:restaurant_edit' restaurant.id %}">Edit</a>
<a href="{% url 'restaurant_tracker:restaurant_delete' restaurant.id %}">Delete</a>
{% endblock page %}